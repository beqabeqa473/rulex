		     СЛОВАРЬ РУССКИХ ПРОИЗНОШЕНИЙ

Словарь русских произношений RuLex предназначен в первую очередь для
совместного использования с синтезатором речи Ru_tts. После его
установки достаточно добавлять в строку вызова Ru_tts ключ
"-s /usr/local/lib/ru_tts/lexicon" и содержимое словаря будет
приниматься во внимание при синтезе речи.


Формат исходного текста словаря.

Каждое вхождение представляет собою одну строку, состоящую из двух
полей: Собственно слово и его произношение. Ударная гласная отмечается
знаком "+" непосредственно после нее. Поля отделены друг от друга
одним пробелом.

Чтобы скомпилировать словарь, то есть преобразовать его к виду,
пригодному для использования синтезатором, достаточно выдать команду

make

или

make lexicon

Makefile достаточно примитивен и обозрим, но все же я позволю себе
дать здесь несколько намеков как использовать этот материал для
пополнения и совершенствования словаря.

Предполагается, что незнакомые слова синтезатор скидывает в файл
/var/log/unknown.words. Их рекомендуется извлекать при помощи команды

make additions

При этом в текущем каталоге образуется файл по имени additions,
содержащий заготовки новых словарных статей, в которых оба поля имеют
совершенно одинаковое содержание. Далее следует просмотреть этот файл
при помощи любого удобного текстового редактора, удалить из него
лишние вхождения и отредактировать соответствующим образом второе
поле. После этого, новые слова вводятся в основной словарь при помощи
команды

make new

Предыдущая версия словаря при этом сохраняется в файле
lexicon.dict.old. А теперь можно выдать команду

make lexicon

для компиляции обновленного словаря. При компиляции могут возникать
замечания о повторных вхождениях. Ничего страшного в них нет, - на
самом деле всегда используется лишь первое, - но все же я бы
рекомендовал обращать на них внимание и принимать соответствующие
меры.

И, наконец, установить обновленный словарь на его законное место можно, посредством команды

make install

Это, разумеется, следует уже делать от имени пользователя root.


А теперь немного истории.

Этот словарь, собственно, возник изначально как реализация моей мечты
вставить расстановку ударений в Ru_tts. Поиски подходящего словаря
ударений в интернете к успеху, увы, не привели. Но тут я вдруг
вспомнил, что свободно распространяемый в электронном виде
англо-русский словарь Мюллера в одном из своих вариантов содержал
расстановку ударений во всех русских словах. Я извлек этот материал и
получил немногим более 60000 вхождений. Это было уже что-то, хотя, как
оказалось, не слишком густо. Тем не менее, жизнеспособность идеи уже
можно было как-то оценить.

А дальше начался длительный процесс доводки. Ряд слов пришлось
исключить, так как ударение в них зависит от контекста, например,
"окна", "слова" и тому подобное. Далее оказалось, что ударениями здесь
дело отнюдь не ограничивается. Например, такая штука, как "счастливый
мужчина". Вылез и еще целый ряд тонкостей.

Разумеется, я вполне отдаю себе отчет, что и сейчас все это весьма
далеко от желанного совершенства, но все же уже, пожалуй, можно
вынести на суд широкой общественности. По крайней мере, то, как Ru_tts
работает с использованием этого словаря, мне нравится заметно больше,
чем то, что было до того.


Теперь же я хочу выразить глубочайшую благодарность тем, кто не
поленился расставить ударения в словаре Мюллера, а также склонить
голову в благодарном поклоне Иванову Геннадию Григорьевичу и своей
сестренке Татьяне, которые самоотверженно взяли на себя львиную долю самой
черновой технической работы по корректировке и пополнению словаря.

Для компиляции словаря используется программка, взятая из Freephone,
которую я, правда, слегка модифицировал, тоже не без чувства
благодарности к ее первоначальному автору.


Порецкий Игорь, Санкт-Петербург, <root@goga.energo.ru>
